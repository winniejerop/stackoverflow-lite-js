<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en-US">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sign Up</title>
<link href="style.css" rel="stylesheet"/>
</head>
<div class="container">
	<div class="centered">
<h1><center>StackOverflow-Lite</center></h1>
<div id="message"></div>
<form id="registration"  method="POST">
<label>Email</label>
<input name="email" type="email" class="input_control" placeholder="email@someone.com" id="email"  /><br>
<label>Username</label>
<input placeholder="username" name="username" class="input_control" id="username" /> <br>
<label>Password</label>
<input placeholder="Password" name="password" class="input_control" type="password" id="password" /> <br>
<label>Confirm Password</label>
<input placeholder="Confirm password" name="password_confirm" class="input_control" type="password" id="confirmPassword"/><br>   
<input type="submit" value="signUp">
<br/>
<a href="login.html">I have an account</a>
</form>
</div>
</div>
<script>
document.getElementById('registration').addEventListener('submit', registration);

function registration()
{   
    console.log("before fetch");
    let username= document.getElementById("username").value;
    let email= document.getElementById("email").value;
    let password= document.getElementById("password").value;
    let confirmPassword= document.getElementById("confirmPassword").value;			
    
    let userInfo = JSON.stringify({
        "username":username,
        "email":email,
        "password":password,
        "confirmPassword":confirmPassword
    });
    console.log(userInfo)}

    fetch('http://127.0.0.1:5000/api/v1/auth/signup', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        mode: "cors",
        body: userInfo
    })
   .then(
    function(response) {
      if (response.status !== 200) {
        console.log('Looks like there was a problem. Status Code: ' +
          response.status);
        return;
      }})

</script>
</body>
</html>

